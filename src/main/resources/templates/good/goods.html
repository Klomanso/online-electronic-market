<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Goods</title>
    <link href="/css/common.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/double_slider_p.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
</head>
<body>
<nav>
    <label>Goods</label>
    <ul>

        <li><a id="home-link" href="/">Home</a></li>
        <li><a id="users-link" href="/users">Users</a></li>
        <li class="active"><a id="goods-link" href="/goods">Goods</a></li>
        <li><a id="orders-link" href="/orders">Orders</a></li>

    </ul>
</nav>
<script src="/js/nav_ul_li.js"></script>
<script src="/js/scroll.js"></script>

<br><br><br><br>

<div class="page-content">
    <nav class="navbar navbar-light bg-light">
        <form method="GET" action="/goodsFound" class="form-inline">
            <input class="form-control mr-sm-2" name="good-query" type="search" placeholder="Search"
                   aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
    </nav>
    <!--
        <nav class="navbar navbar-light bg-light">
            <form method="GET" action="/goods" class="form-inline">
                <label for="pageSize">Price</label>
                <input type="number" min="0" name="size" id="pageSize" placeholder="minQuantity">
                <button id="find-by-filters" class="btn btn-warning" type="submit">Find</button>
            </form>
        </nav>
    -->
    <!--
        <form method="GET" action="/goodsFound">
            <label for="good-query">Search:</label>
            <div class="input-group-text col-2">
                <input id="good-query" class="form-control" type="search" name="good-query" required
                       placeholder="product info">
                <button id="find-by-query" class="btn btn-info" type="submit">Find</button>
            </div>
        </form>
    -->
    <form method="GET" action="/goodsFilter">
        <label for="goodName">Name:</label>
        <input id="goodName" type="search" name="goodName" placeholder="product name">
        <label for="goodCompany">Company:</label>
        <input id="goodCompany" type="search" name="goodCompany" placeholder="product company">
        <label for="aPlace">Assemply Place:</label>
        <input id="aPlace" type="search" name="aPlace" placeholder="product info">
        <label for="description">Description:</label>
        <input id="description" type="search" name="description" placeholder="product description">
        <label for="good-type">Type:</label>
        <br>
        <select multiple class="form-select" id="good-type" name="goodType" size="4">
            <option class="o" th:each="type : ${types}"
                    th:value="${type.id}"
                    th:text="${type.name}">
            </option>
        </select>

        <div class="wrapper">
            <header>
                <h2>Quantity Range</h2>
                <p>Use slider or enter min and max price</p>
            </header>
            <div class="quantity-input">
                <div class="field">
                    <span>Min</span>
                    <input name="minQuantity" type="number" class="input-min-q" value="25000">
                </div>
                <div class="separator">-</div>
                <div class="field">
                    <span>Max</span>
                    <input name="maxQuantity" type="number" class="input-max-q" value="75000">
                </div>
            </div>
            <div class="sliderq">
                <div class="progressq"></div>
            </div>
            <div class="range-input-q">
                <input type="range" class="range-min-q" min="0" max="100000" value="25000" step="100">
                <input type="range" class="range-max-q" min="0" max="100000" value="75000" step="100">
            </div>
        </div>
        <script src="/js/double_slider_quantity.js"></script>

        <div class="wrapper">
            <header>
                <h2>Price Range</h2>
                <p>Use slider or enter min and max price</p>
            </header>
            <div class="price-input">
                <div class="field">
                    <span>Min</span>
                    <input name="minPrice" type="number" class="input-min" value="25000">
                </div>
                <div class="separator">-</div>
                <div class="field">
                    <span>Max</span>
                    <input name="maxPrice" type="number" class="input-max" value="75000">
                </div>
            </div>
            <div class="slider">
                <div class="progress"></div>
            </div>
            <div class="range-input">
                <input type="range" class="range-min" min="0" max="100000" value="25000" step="1000">
                <input type="range" class="range-max" min="0" max="100000" value="75000" step="1000">
            </div>
        </div>
        <script src="/js/double_slider_price.js"></script>


        <button id="find-by-filter" class="btn btn-warning" type="submit">Find</button>
        <button id="reset-filters" class="btn btn-danger" type="reset">Reset</button>
    </form>

    <br>
    <div id="goods-list">
        <table>
            <tr>
                <th>name</th>
                <th>type</th>
                <th>price</th>
                <th>left</th>
                <th>made in</th>
                <th>company</th>
            </tr>
            <th:block th:each="good : ${goods.page}">
                <tr>
                    <td>
                        <a th:href="@{/goodInfo/{id}(id=${good.id})}" class="btn btn-outline-dark">
                            <span th:text="${good.name}"></span>
                        </a>
                    </td>
                    <td th:text="${good.appType.name}"></td>
                    <td th:text="${good.price}"></td>
                    <td th:text="${good.quantity}"></td>
                    <td th:text="${good.assemblyPlace}"></td>
                    <td th:text="${good.company}"></td>
                </tr>
            </th:block>
        </table>
    </div>
    <br>
    <a id="add-good-button" class="btn btn-outline-primary" th:href="@{/good/add}"
       role="button">Add good</a>

    <br><br><br><br>

    <footer aria-label="Page navigation" class="paging">
        <ul class="pagination" th:if="${goods.page.totalPages > 1}">
            <li class="page-item" th:classappend="${!goods.paging.isPrevEnabled()? 'disabled' : ''}">
                <a class="page-link" th:href="@{'/goods/?pageNumber=' + ${goods.paging.pageNumber - 1}}"
                   tabindex="-1">Previous</a>
            </li>
            <th:block th:each="item : ${goods.paging.getItems()}">
                <li class="page-item" th:classappend="${item.index == goods.paging.pageNumber? 'active' : ''}"
                    th:if="${item.pageItemType.name() == 'PAGE'}">
                    <a class="page-link" th:href="@{'/goods/?pageNumber=' + ${item.index}}"
                       th:text="${item.index}"></a>
                </li>
                <li class="page-item disabled" th:if="${item.pageItemType.name() == 'DOTS'}">
                    <a class="page-link" href="#">...</a>
                </li>
            </th:block>
            <li class="page-item" th:classappend="${!goods.paging.isNextEnabled()? 'disabled' : ''}">
                <a class="page-link" th:href="@{'/goods/?pageNumber=' + ${goods.paging.pageNumber + 1}}">Next</a>
            </li>
        </ul>
    </footer>

</div>
</body>
</html>
